function playMusic(){player.play(),intv=setInterval(update,100),getFullTime()}function pauseMusic(){player.pause(),clearInterval(intv)}function stopMusic(){player.pause(),player.currentTime=0,document.getElementById("currentPourcent").style.width=0,document.getElementById("songTime").innerHTML=millisToMins(player.currentTime),clearInterval(intv)}function muteMusic(){1==player.muted?(player.muted=!1,document.getElementById("currentVolume").style.maxWidth="100%"):(player.muted=!0,document.getElementById("currentVolume").style.maxWidth="0")}function updateVolume(e){player.volume=e,updateVolumeWidth(),document.getElementById("currentVolume").style.maxWidth="100%",player.volume>0&&(player.muted=!1)}function volUp(){player.volume<1?player.volume+=.1:player.volume=1,updateVolumeWidth()}function volDown(){player.volume>0?player.volume-=.1:player.volume=0,updateVolumeWidth()}function updateVolumeWidth(){document.getElementById("currentVolume").style.width=100*player.volume+"%"}function update(){document.getElementById("songTime").innerHTML=millisToMins(player.currentTime);var e=player.currentTime,t=player.duration,n=e/t*100;document.getElementById("currentPourcent").style.width=n+"%",buffer()}function buffer(){var e=player.currentTime,t=player.duration,n=player.buffered.end(player.buffered.length-1);document.getElementById("bufferPourcent").style.width=n/t*100+"%"}function getFullTime(){document.getElementById("songTimeFull").innerHTML=millisToMins(player.duration)}function millisToMins(e){var t=Math.floor(e%31536e3%86400%3600/60),n=e%31536e3%86400%3600%60;return n>=10?t+":"+Math.round(n):t+":0"+Math.round(n)}function reposition(e){player.currentTime=e}var player,intv,slider;window.onload=function(){document.getElementById("btnPlay").addEventListener("click",playMusic,!1),document.getElementById("btnPause").addEventListener("click",pauseMusic,!1),document.getElementById("btnStop").addEventListener("click",stopMusic,!1),document.getElementById("btnMute").addEventListener("click",muteMusic,!1),player=document.getElementById("player"),updateVolume(1)},$("body").keyup(function(e){switch(console.log(e.keyCode),e.keyCode){case 32:0==player.paused?pauseMusic():playMusic();break;case 77:muteMusic();break;case 187:volUp();break;case 189:volDown();break;default:console.log("No keyboard matching")}}),$.ajax({url:"js/json/wyved.json",type:"GET",dataType:"json"}).done(function(e){}).fail(function(){console.log("error")}),$(".player--timer").on("click",".player--timer--progress",function(e){e.preventDefault();var t=$(this).offset().left,n=parseInt(e.pageX-t),l=parseInt($(this).width()),u=n/l;reposition(player.duration*u),$("#currentPourcent").width(100*u+"%")}),$(".player--volume").on("click",".player--volume--progress",function(e){e.preventDefault();var t=$(this).offset().left,n=parseInt(e.pageX-t),l=parseInt($(this).width()),u=n/l;updateVolume(u)});